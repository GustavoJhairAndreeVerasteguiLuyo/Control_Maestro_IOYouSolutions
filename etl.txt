[1] Fuentes de datos (cÃ¡maras, COBOL logs, sensores)
         â”‚
         â–¼
[2] Amazon Kinesis / AWS IoT Core
         â”‚
         â–¼
[3] AWS Lambda (Procesamiento en tiempo real o batch)
         â”‚
         â–¼
[4] Amazon S3 (Data Lake crudo)
         â”‚
         â–¼
[5] AWS Glue (ETL, catalogaciÃ³n y transformaciÃ³n)
         â”‚
         â–¼
[6] Amazon Redshift / Athena (consulta)
         â”‚
         â–¼
[7] Amazon QuickSight / Dashboard
----------------------------------------------
[1] ğŸ›°ï¸ Fuentes de datos
CÃ¡maras IP â†’ envÃ­an metadata a travÃ©s de MQTT, RTSP, etc.

Logs COBOL â†’ exportados por FTP/SFTP a un bucket S3.

Sensores â†’ publican eventos vÃ­a IoT Core o API REST.
----------------------------------------------
[2] ğŸ” Amazon Kinesis o AWS IoT Core
Reciben el stream de datos en tiempo real.

Se requiere usar Kinesis Firehose para volcar directamente a S3.
----------------------------------------------
[3] ğŸ§  AWS Lambda
Realiza limpieza, normalizaciÃ³n y tagging de eventos.

def lambda_handler(event, context):
    record = event['Records'][0]
    data = json.loads(base64.b64decode(record['kinesis']['data']))
    # transformar y guardar en S3 limpio
----------------------------------------------
[4] ğŸ—ƒï¸ Amazon S3 (Data Lake)
3 zonas de almacenamiento:

s3://vigilancia/raw/

s3://vigilancia/processed/

s3://vigilancia/analytics/
----------------------------------------------

[5] ğŸ”§ AWS Glue
Crear jobs ETL programados que:

Toman datos de raw

Transforman (ej. agrupar por hora, ciudad, evento)

Cargan en analytics o Redshift

CatÃ¡logo de datos en Glue para usar con Athena o Lake Formation
----------------------------------------------

[6] ğŸ“¦ Amazon Redshift / Athena
Redshift si necesitas procesamiento masivo tipo DWH

Athena si prefieres consultar directamente sobre S3 con SQL
----------------------------------------------

[7] ğŸ“Š Amazon QuickSight
Crear paneles:

CÃ¡maras activas por zona

Eventos por hora del dÃ­a

Alertas frecuentes

Logs COBOL integrados en timelines
-----------------------------------------------
ğŸ“¦ Â¿QuÃ© servicios deberÃ­as provisionar?
Servicio	                           PropÃ³sito
S3	                                   Data Lake
Glue	                               CatÃ¡logo y ETL
Athena	                               SQL sobre S3
Redshift	                           DWH
QuickSight	                           Dashboard
Kinesis	                               Ingesta en tiempo real
Lambda	                               Preprocesamiento / OrquestaciÃ³n
IoT Core	                           Lectura directa de sensores fÃ­sicos
